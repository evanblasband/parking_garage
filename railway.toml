# Railway deployment configuration
# This configures a single service that serves both backend API and frontend static files

[build]
builder = "nixpacks"

[build.nixpacks]
# Install both Python and Node.js
aptPkgs = ["python3", "nodejs", "npm"]

[deploy]
startCommand = "python3 -m uvicorn backend.main:app --host 0.0.0.0 --port $PORT"
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3
